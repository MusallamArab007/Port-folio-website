<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Registration Form with Step-by-Step Validation</title>

<!-- Bootstrap CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

<style>
  body {
    background-color: #f8f9fa;
  }
  .card {
    box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    border-radius: 10px;
  }
  .error {
    color: red;
    font-size: 0.9em;
    margin-top: 4px;
  }
  .form-control.is-invalid {
    border-color: red !important;
    box-shadow: none !important;
  }
</style>
</head>
<body class="p-4">

<div class="container mt-5">
  <div class="card p-4 mx-auto" style="max-width: 600px;">
    <h3 class="text-center mb-4"> Registration Form</h3>
    
    <form id="registrationForm" novalidate>
      <!-- Full Name -->
      <div class="mb-3">
        <label class="form-label">Full Name</label>
        <input type="text" id="fullname" class="form-control" placeholder="Enter your full name">
        <div class="error" id="nameError"></div>
      </div>

      <!-- Password -->
      <div class="mb-3">
        <label class="form-label">Password</label>
        <input type="password" id="password" class="form-control" placeholder="Enter your password">
        <div class="error" id="passwordError"></div>
      </div>

      <!-- Phone -->
      <div class="mb-3">
        <label class="form-label">Phone Number</label>
        <input type="text" id="phone" class="form-control" placeholder="Enter your phone number">
        <div class="error" id="phoneError"></div>
      </div>

      <!-- Email -->
      <div class="mb-3">
        <label class="form-label">Email Address</label>
        <input type="email" id="email" class="form-control" placeholder="Enter your email">
        <div class="error" id="emailError"></div>
      </div>

      <!-- Country -->
      <div class="mb-3">
        <label class="form-label">Country</label>
        <select id="country" class="form-select">
          <option value="">Select Country</option>
          <option value="India">India</option>
          <option value="United States">United States</option>
          <option value="United Kingdom">United Kingdom</option>
          <option value="Japan">Japan</option>
          <option value="United Arab Emirates">United Arab Emirates</option>
        </select>
        <div class="error" id="countryError"></div>
      </div>

      <!-- Currency -->
      <div class="mb-3">
        <label class="form-label">Currency</label>
        <input type="text" id="currency" class="form-control" placeholder="Currency" readonly>
      </div>

      <div class="text-center">
        <button type="submit" class="btn btn-primary mt-3 w-100">Submit</button>
      </div>
    </form>
  </div>
</div>

<!-- JavaScript -->
<script>
  // Country to Currency Mapping
  const countryCurrency = {
    "India": "INR (‚Çπ)",
    "United States": "USD ($)",
    "United Kingdom": "GBP (¬£)",
    "Japan": "JPY (¬•)",
    "United Arab Emirates": "AED (ÿØ.ÿ•)"
  };

  // References
  const form = document.getElementById('registrationForm');
  const fullname = document.getElementById('fullname');
  const password = document.getElementById('password');
  const phone = document.getElementById('phone');
  const email = document.getElementById('email');
  const country = document.getElementById('country');
  const currency = document.getElementById('currency');

  const nameError = document.getElementById('nameError');
  const passwordError = document.getElementById('passwordError');
  const phoneError = document.getElementById('phoneError');
  const emailError = document.getElementById('emailError');
  const countryError = document.getElementById('countryError');

  // Auto update currency
  country.addEventListener('change', function() {
    const selectedCountry = country.value;
    currency.value = countryCurrency[selectedCountry] || "";
  });

  // Step-by-step Validation
  form.addEventListener('submit', function(e) {
    e.preventDefault();

    // Clear all errors first
    document.querySelectorAll('.error').forEach(err => err.textContent = "");
    document.querySelectorAll('.form-control').forEach(inp => inp.classList.remove('is-invalid'));

    // 1Ô∏è‚É£ Full Name
    if (fullname.value.trim() === "") {
      nameError.textContent = "Full name cannot be empty.";
      fullname.classList.add('is-invalid');
      fullname.focus();
      return;
    }

    // 2Ô∏è‚É£ Password
    const passwordValue = password.value.trim();
    const passwordRegex = /^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*#?&]).{6,}$/;
    if (!passwordRegex.test(passwordValue)) {
      passwordError.textContent = "Password must be at least 6 chars, include a letter, number, and special character.";
      password.classList.add('is-invalid');
      password.focus();
      return;
    }

    // 3Ô∏è‚É£ Phone
    const phoneRegex = /^[0-9]+$/;
    if (!phoneRegex.test(phone.value.trim()) || phone.value.trim().length < 6) {
      phoneError.textContent = "Phone number must contain only digits and be at least 6 digits long.";
      phone.classList.add('is-invalid');
      phone.focus();
      return;
    }

    // 4Ô∏è‚É£ Email
    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    if (!emailRegex.test(email.value.trim())) {
      emailError.textContent = "Please enter a valid email address.";
      email.classList.add('is-invalid');
      email.focus();
      return;
    }

    // 5Ô∏è‚É£ Country
    if (country.value === "") {
      countryError.textContent = "Please select your country.";
      country.classList.add('is-invalid');
      country.focus();
      return;
    }

    // ‚úÖ All Valid
    alert("üéâ Registration successful!");
    form.reset();
    currency.value = "";
  });
</script>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
